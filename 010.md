## 第 10 节

本节中加入了对单字母本地变量的支持，实现的原理也很简单，直接给 a-z  26 个字母在内存中开 26 块就可以了，然后获取对应的相对地址就可以进行读取。

### 词法部分

词法部分判断了一下 `*P` 的内容，如果是 a-zA-Z 则直接分类为变量。

### 语法部分

```text
expr = assign
assign = equality ("=" assign)?
```

新增了赋值、变量类型节点。

语法部分加入了 assign 赋值式，表达式由赋值式构成，赋值式则由相等性运算或者赋值式构成。

此部分的嵌套则是为了处理 `a = b = 114` 之类的情况。

基数则可以是数字、变量或者括号内的表达式。

### 代码生成部分

CPU 可以直接从内存中任意地址读取和写入值，而不仅仅是栈顶。

`ld a0, 0(a0)`，获取 a0 中的地址中的数据，存入 a0。

`ld rd, offset(rs1)`，读取 rs1 + offset 地址中的数据，存入 rd。

`sd a0, 0(a1)`，将 a0 中的数据存入 a1 中。

`sd rs2, offset(rs1)`，将 rs2 中的数据存入 rs1 + offset 地址。

先将 fp 入栈，然后将 sp 写入 fp 进行初始化，这样就可以通过 fp + offset 的方式来访问本地变量。

